## Домашнее задание к занятию «Резервное копирование баз данных»

### Задание 1. Резервное копирование

Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования.

Необходимо описать, какие варианты резервного копирования подходят в случаях:

### 1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

Ответ
В данном случае лучше делать полный бэкап раз в неделю, а затем каждый день инкрементный или дифференциальный бэкап.

### 1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.
Приведите ответ в свободной форме.

Ответ
Тут также для начала полный бэкап, но желательно раз в день, и потом в течение дня инкрементный, как самый экономный по занимаемой памяти и времени.

### Задание 2. PostgreSQL
### 2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).
Приведите ответ в свободной форме.
Ответ
```
Базовая команда pg_dump <имя_базы> > <файл_сохранения>.
```

Команда pg_restore извлекает архивный файл, созданный командой pg_dump, и восстанавливает выбранную базу данных PostgreSQL. Для указания базы данных нужно задать параметр -d - pg_restore <имя_базы> <файл_сохранения>.

### Задание 3. MySQL
### 3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL.
Приведите ответ в свободной форме.

Ответ
```
Для данного вида резеревирования используется команда mysqlbackup с параметром --incremental-base=history:last_full_backup.

Также можно использовать и сторонние утилиты. Например, Percona XtraBackup, которая позволяет делать архивы баз данных на лету без блокировок таблиц.
Например, xtrabackup --backup --target-dir=/backupdb/inc1 --incremental-basedir=/backupdb/full.
```
